# AIOps Service - 产品说明

## 产品概述

AIOps Service 是一个基于 AI 的智能运维平台，通过整合 IT 资源管理、拓扑可视化、智能 Agent 和 LLM 能力，帮助运维团队实现自动化巡检、故障分析和智能决策。

## 产品定位

- **目标用户**: 运维工程师、系统管理员、DevOps 团队
- **核心价值**: 提升运维效率、降低故障响应时间、实现智能化运维
- **产品类型**: SaaS 平台 / 私有化部署

## 核心能力

### 1. 统一资源管理

提供统一的 IT 资源管理平台，支持多种资源类型：

- **基础设施**: 服务器、网络设备、存储设备
- **应用服务**: 微服务应用、单体应用
- **数据库**: MySQL、PostgreSQL、Redis 等
- **接口**: REST API、gRPC 接口
- **中间件**: 消息队列、配置中心
- **报表**: 业务报表、监控报表

**核心功能**:
- 资源创建和管理
- 资源权限控制（Owner/Viewer）
- 资源标签和分类
- 资源搜索和过滤

### 2. 拓扑关系可视化

建立和展示资源间的拓扑关系，帮助理解系统架构：

- **拓扑关系类型**: 依赖、调用、部署、数据流
- **可视化展示**: 交互式拓扑图、多层级展示
- **拓扑分析**: 影响范围分析、根因追踪

**核心功能**:
- 建立资源间的拓扑关系
- 可视化查看拓扑图
- 拓扑图交互操作（缩放、拖拽、筛选）
- 故障影响范围分析

### 3. 智能 Agent 系统

配置和管理各种类型的智能 Agent，实现运维任务自动化：

**Agent 类型**:
- **巡检 Agent**: 定期检查资源健康状态和性能指标
- **故障分析 Agent**: 分析故障原因和影响范围
- **趋势预测 Agent**: 预测资源使用趋势
- **根因分析 Agent**: 追踪故障的根本原因

**核心功能**:
- Agent 配置和管理
- Agent 关联到资源节点
- 手动/定时/事件触发执行
- 查看执行结果和报告
- Agent 协作编排

### 4. LLM 智能分析

集成大语言模型（LLM），提供智能分析和决策支持：

**支持的 LLM**:
- OpenAI（GPT-4、GPT-3.5）
- Anthropic Claude
- 本地部署模型

**核心功能**:
- LLM 服务配置和管理
- 提示词模板管理
- 成本控制和统计
- 多服务切换和降级

### 5. Chatbot 智能交互

通过自然语言与系统交互，降低使用门槛：

**核心功能**:
- 自然语言查询资源信息
- 通过对话执行临时任务
- 多轮对话和上下文理解
- 智能推荐和建议

### 6. 数据集成和告警

与现有监控和 CMDB 系统集成，统一数据视图：

**集成能力**:
- 监控系统数据集成（Prometheus、Grafana 等）
- CMDB 系统数据集成
- 外部告警接收和处理
- 多渠道通知（邮件、短信、钉钉、企业微信）

### 7. 报告和导出

生成和导出各类运维报告：

**核心功能**:
- 自定义报告模板
- 导出拓扑图和报告
- 定期报告生成
- 报告分享和订阅

## 产品架构

### 技术架构

```
┌─────────────────────────────────────────────────────────┐
│                    前端层 (Web UI)                       │
│  - 资源管理界面  - 拓扑可视化  - Agent 管理  - Chatbot  │
└────────────────────┬────────────────────────────────────┘
                     │ HTTP/WebSocket
┌────────────────────┴────────────────────────────────────┐
│                  接口层 (Interface)                      │
│  - REST API  - WebSocket  - 消息队列消费者              │
└────────────────────┬────────────────────────────────────┘
                     │
┌────────────────────┴────────────────────────────────────┐
│                  应用层 (Application)                    │
│  - 用例编排  - 事务控制  - DTO 转换                     │
└────────────────────┬────────────────────────────────────┘
                     │
┌────────────────────┴────────────────────────────────────┐
│                   领域层 (Domain)                        │
│  - 业务逻辑  - 领域模型  - 领域服务                     │
└────────────────────┬────────────────────────────────────┘
                     │
┌────────────────────┴────────────────────────────────────┐
│               基础设施层 (Infrastructure)                │
│  - MySQL  - Redis  - AWS SQS  - LLM 集成                │
└─────────────────────────────────────────────────────────┘
```

### 部署架构

- **单体部署**: 适用于小规模团队（< 100 资源）
- **微服务部署**: 适用于大规模团队（> 1000 资源）
- **混合部署**: 核心服务私有化，LLM 服务云端

## 产品特色

### 1. DDD 分层架构

采用领域驱动设计（DDD）和六边形架构，确保代码质量和可维护性：

- 清晰的职责边界
- 易于测试和扩展
- 支持快速迭代

### 2. AI 驱动的智能运维

深度集成 LLM，提供智能分析能力：

- 自然语言交互
- 智能故障诊断
- 趋势预测和建议

### 3. 灵活的 Agent 系统

可配置、可扩展的 Agent 系统：

- 支持自定义 Agent 类型
- 灵活的数据源配置
- 多种触发方式

### 4. 完善的权限控制

细粒度的权限管理：

- 资源级权限控制
- Owner/Viewer 角色
- 多租户数据隔离

### 5. 开放的集成能力

与现有系统无缝集成：

- 标准 API 接口
- 支持多种监控系统
- 支持多种 CMDB 系统

## 产品路线图

### 第一阶段：基础设施（MVP 核心 - P0）

**目标**: 建立基础的资源管理和权限控制能力

- ✅ 用户登录和身份认证
- ✅ 管理资源的访问权限
- ✅ 创建和管理 IT 资源
- ✅ 建立资源间的拓扑关系
- ✅ 可视化查看拓扑图

**预计时间**: 2-3 个月

### 第二阶段：Agent 能力

**目标**: 实现智能 Agent 的配置和执行

- ✅ 在拓扑图上进行交互操作
- ✅ 配置 LLM 服务
- ✅ 配置和管理 Agent
- ✅ 将 Agent 关联到资源节点
- ✅ 手动执行 Agent 任务
- ✅ 查看 Agent 执行结果和报告

**预计时间**: 2-3 个月

### 第三阶段：智能交互

**目标**: 提供 Chatbot 智能交互能力

- ✅ 管理提示词模板
- ✅ 通过 Chatbot 查询资源信息
- ✅ 通过 Chatbot 执行临时任务

**预计时间**: 1-2 个月

### 第四阶段：自动化和集成（P1）

**目标**: 实现任务自动化和外部系统集成

- ✅ 定时自动执行 Agent 任务
- ✅ 基于事件触发 Agent 任务
- ✅ 自定义报告模板
- ✅ 集成监控系统数据
- ✅ 集成 CMDB 系统数据
- ✅ 配置告警规则
- ✅ 接收和处理外部告警
- ✅ 配置多种通知渠道

**预计时间**: 2-3 个月

### 第五阶段：高级功能（P2）

**目标**: 提供高级分析和管理能力

- ✅ 导出拓扑图和报告
- ✅ 分析资源故障的影响范围
- ✅ 追踪故障的根本原因
- ✅ 预测资源使用趋势
- ✅ 编排多个 Agent 协作
- ✅ 多租户数据隔离
- ✅ 移动端访问和操作

**预计时间**: 3-4 个月

## 目标用户画像

### 运维工程师

- **痛点**: 手动巡检耗时、故障定位困难、重复性工作多
- **需求**: 自动化巡检、智能故障分析、快速定位问题
- **使用场景**: 日常巡检、故障处理、性能优化

### 系统管理员

- **痛点**: 资源管理混乱、权限控制复杂、缺乏全局视图
- **需求**: 统一资源管理、细粒度权限控制、拓扑可视化
- **使用场景**: 资源管理、权限分配、架构梳理

### DevOps 团队

- **痛点**: 缺乏自动化工具、监控数据分散、协作效率低
- **需求**: 自动化运维、数据集成、智能决策支持
- **使用场景**: CI/CD 集成、监控告警、容量规划

## 竞争优势

1. **AI 原生设计**: 从产品设计之初就深度集成 LLM，而非后期添加
2. **DDD 架构**: 采用领域驱动设计，确保代码质量和可维护性
3. **灵活的 Agent 系统**: 可配置、可扩展的 Agent 框架
4. **开放的集成能力**: 与现有系统无缝集成，而非替代
5. **自然语言交互**: 降低使用门槛，提升用户体验

## 成功指标

### 业务指标

- **用户增长**: 月活用户数、新增用户数
- **使用频率**: 日均登录次数、功能使用率
- **用户满意度**: NPS 评分、用户反馈

### 技术指标

- **系统性能**: 响应时间、并发处理能力
- **稳定性**: 可用性、故障恢复时间
- **成本**: LLM 调用成本、基础设施成本

### 运维效率指标

- **巡检效率**: 自动化巡检覆盖率、巡检时间缩短比例
- **故障响应**: 平均故障发现时间（MTTD）、平均故障恢复时间（MTTR）
- **人力节省**: 重复性工作减少比例、人力成本节省

## 相关文档

- **技术栈说明**: [tech.md](./tech.md)
- **项目结构说明**: [structure.md](./structure.md)
- **架构指南**: [ARCHITECTURE_GUIDELINES.md](./ARCHITECTURE_GUIDELINES.md)
- **功能特性列表**: [doc/1-intent/2-features/README.md](./doc/1-intent/2-features/README.md)

---

**创建日期**: 2024-11-27  
**最后更新**: 2024-11-27  
**文档版本**: v1.0
